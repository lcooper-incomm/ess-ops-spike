<div class="comment-field form-field" [formGroup]="form">
  <mat-form-field [appearance]="appearance">
    <mat-label>{{placeholder}}</mat-label>
    <textarea matInput [cdkTextareaAutosize]="autoSize" [cdkAutosizeMinRows]="minRows" [rows]="minRows" [formControlName]="controlName" [required]="required || isControlRequired(form.get(controlName))" [errorStateMatcher]="instantErrorMatcher" [placeholder]="placeholder"></textarea>
    <mat-hint align="end">{{form.get( controlName ).value?.length || 0}}/500</mat-hint>
    <mat-error *ngIf="form.get(controlName).hasError('required') && !form.get(controlName).hasError('needscommentfromuser')">This field is required</mat-error>
    <mat-error *ngIf="form.get(controlName).hasError('needscommentfromuser')">At least one Comment from you is required</mat-error>
    <mat-error *ngIf="!form.get(controlName).hasError('required') && form.get(controlName).hasError('minlength')">Must be at least 5 characters in length</mat-error>
    <mat-error *ngIf="!form.get(controlName).hasError('required') && form.get(controlName).hasError('ivrDnis')">Must be 10 digit phone numbers comma and space delimited</mat-error>
    <mat-error *ngIf="!form.get(controlName).hasError('required') && form.get(controlName).hasError('maxlength')" fxLayout="row" fxLayoutGap="20px">
      <div fxFlex="grow">Must be less than 500 characters in length</div>
      <div>{{form.get( controlName ).value?.length || 0}}/500</div>
    </mat-error>
  </mat-form-field>
</div>
